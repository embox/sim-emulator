#include <stdio.h>
#include <stdlib.h>
#include <stdint.h>

#define FILE_ID "2F00"
#define FILE_NAME "ef-dir"

int main() {
    // Create the file
    FILE* fp = fopen(FILE_NAME, "wb");
    if (fp == NULL) {
        printf("Error creating file %s\n", FILE_NAME);
        return 1;
    }

    // Write the file descriptor
    uint8_t fileDescriptor[] = {0x42, 0x21, 0x00, 0x21, 0x2F, 0x00, 0x05, 0x2F, 0x06, 0x02, 0x84, 0x40};
    fwrite(fileDescriptor, 1, sizeof(fileDescriptor), fp);

    // Write the file content
    uint8_t content1[] = {0x61, 0x14, 0x4F, 0x0C, 0xA0, 0x00, 0x00, 0x00, 0x00, 0x87, 0x10, 0x02, 0xFF, 0x49, 0xFF, 0x05, 0x89, 0x50, 0x04, 0x55, 0x53, 0x49, 0x4D};
    fwrite(content1, 1, sizeof(content1), fp);

    uint8_t content2[] = {0x61, 0x14, 0x4F, 0x0C, 0xA0, 0x00, 0x00, 0x00, 0x00, 0x87, 0x10, 0x04, 0xFF, 0x49, 0xFF, 0x05, 0x89, 0x50, 0x04, 0x49, 0x53, 0x49, 0x4D};
    fwrite(content2, 1, sizeof(content2), fp);

    uint8_t content3[] = {0x61, 0x18, 0x4F, 0x10, 0xA0, 0x00, 0x00, 0x03, 0x43, 0x10, 0x02, 0xF3, 0x10, 0xFF, 0xFF, 0x89, 0x02, 0x00, 0x00, 0xFF, 0x50, 0x04, 0x43, 0x53, 0x49, 0x4D};
    fwrite(content3, 1, sizeof(content3), fp);

    fclose(fp);

    printf("File %s created successfully with file ID %s\n", FILE_NAME, FILE_ID);
    return 0;
}